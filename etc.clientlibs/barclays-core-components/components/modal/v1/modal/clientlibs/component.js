(function(){"use strict";(function(){class _{constructor({element:e,props:t}){var i,s;this.element=e,this.props=(s=t!=null?t:(i=this==null?void 0:this.element)==null?void 0:i.dataset)!=null?s:{},this.element.setAttribute("data-component-load","done"),this.registerEventListeners(),this.init()}registerEventListeners(){}init(){}}var E=_;const A=(n,e)=>{n.filter(t=>t.getAttribute("data-component-load")!=="done").forEach(t=>{t.setAttribute("data-component-load","done"),new e(t,t==null?void 0:t.dataset)})};var m=(n,e)=>{const t=()=>{var i;const s=[].slice.call(document.querySelectorAll(`[data-component-type="${n}"`));A(s,e);try{const{MutationObserver:r}=(i=window!=null?window:window.WebKitMutationObserver)!=null?i:window.MozMutationObserver,a=new r(p=>{p.forEach(h=>{Array.from(h.addedNodes).filter(b=>b.querySelectorAll!=null).forEach(b=>{const W=Array.from(b.querySelectorAll(`[data-component-type="${n}"`));A(W,e)})})}),c=document.querySelector("body");a.observe(c,{subtree:!0,childList:!0,characterData:!0})}catch(r){console.error(r)}};document.readyState!=="loading"?t():document.addEventListener("DOMContentLoaded",t)},o={GLOBAL:{ESCAPE_KEYPRESS:"Escape keypress"},ACCORDION:{ITEM:{COLLAPSING:"Accordion item collapsing",EXPANDING:"Accordion item expanding"},ITEM_BUTTON:{CLICK:"Accordion item button click"}},HEADER:{ESCAPE_KEYPRESS:"Header escape keypress",OVERLAY_CLICK:"Header overlay click",MENU:{COLLAPSING:"Header menu collapsing",EXPANDING:"Header menu expanding"},BUTTON:{SELECT:"Header navigation button selected",DESELECT:"Header navigation button deselected"},BACK_BUTTON:{CLICK:"Header back button click"},NAVIGATION_LIST:{SHOWING_SUB_LISTS:"Header navigation list showing sub-lists",HIDING_SUB_LISTS:"Header navigation list hiding sub-lists"},SEGMENT_BUTTON:{EXPANDING:"Header segment button expanding",COLLAPSING:"Header segment button collapsing"},SEGMENT_CLOSE_BUTTON:{CLICK:"Header segment close button click"},SEGMENT_POPUP_CONTAINER:{COLLAPSING:"Header segment popup container collapsing",EXPANDING:"Header segment popup container expanding",OUTSIDE_CLICK:"Header segment popup container outside click"},SEGMENT_POPUP:{USER_NAVIGATING:"Header segment popup user navigating"},SEGMENT_POPUP_BODY:{USER_NAVIGATING_AWAY:"Header segment popup body user navigating away",USER_CLICKING_AWAY:"Header segment popup body user clicking away",ESCAPE_KEYPRESS:"Header segment popup body escape keypress"}},MODAL:{OPENING:"Modal opening",CLOSING:"Modal closing",OVERLAY_CLICK:"Modal overlay click",OPEN_BUTTON_CLICK:"Modal open button click",CLOSE_BUTTON_CLICK:"Modal dismiss button click"},TRANSCRIPT:{COLLAPSING:"Transcript collapsing",EXPANDING:"Transcript expanding",BUTTON_CLICK:"Transcript button click"},TAB:{SELECT_CHANGE:"Tab select value changing",TAB_CHANGE:"Tab value changing",TAB_FOCUS_SHIFT:"Tab focus shifting"},CHIP_TAB_ITEM:{CLICK:"Chip tab item click"}};const $={lg:60,md:40,sm:30,xs:20,xxs:0};var J=null;const g=new Map,Q=n=>{if(!(n instanceof Element))return null;if(g.has(n))return g.get(n);const e=getComputedStyle(n,null),t=Number.parseFloat(e.fontSize);return g.set(n,t),t};var Z=null;const j=n=>{const e=["lg","md","sm","xs","xxs"];for(const t of e)if(n>breakpointSizes[t])return t};var ee=null;const te=()=>{const n=document.documentElement,e=_getEmSize(n),t=n.clientWidth;if(!Number.isFinite(e)||!Number.isFinite(t))return null;const i=t/e;return _calculateBreakpoint(i)};var ne=null;const N=Object.values({a:"a[href]",area:"area[href]",button:"button:not([disabled])",custom:"[tabindex]:not([tabindex='-1'])",input:"input:not([disabled])",object:"object:not([disabled])",select:"select:not([disabled])",textarea:"textarea:not([disabled])"}).toString();var f=(n,e={})=>{var t,i,s;const a=[...(s=(i=n==null?void 0:n.querySelectorAll)==null?void 0:i.call(n,(t=e.selector)!=null?t:N))!=null?s:[]].filter(c=>e.includePositionFixed&&window.getComputedStyle(c).display==="none"?!1:c.offsetParent!==null);return{list:a,first:a[0],last:a[a.length-1]}};class v{constructor(e){this.delegated=e}handleEvent(e){this.delegated["on"+e.type](e)}}var O=v;class S{constructor(){this.observers=[]}subscribe(e){typeof e=="function"&&this.observers.push(e)}unsubscribe(e){typeof e=="function"&&(this.observers=this.observers.filter(t=>t!==e))}notify(e){this.observers.forEach(t=>t(e))}}var M=S,d={getObservable:(()=>{let n;return()=>(n||(n=new M),n)})()}.getObservable(),l={MODAL:{MODIFIERS:{ANIMATION:"c-modal--animation",IS_HIDDEN:"aem-modal--is-hidden",ANIMATION_DONE:"c-modal--animation-done"}},OVERLAY:{MODIFIERS:{ANIMATION:"c-modal-overlay--animation",IS_HIDDEN:"aem-modal-overlay--is-hidden",ANIMATION_DONE:"c-modal-overlay--animation-done"}}},T=Object.defineProperty,C=(n,e,t)=>e in n?T(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,u=(n,e,t)=>(C(n,typeof e!="symbol"?e+"":e,t),t);class D extends E{constructor(e,t){super({element:e,props:t}),u(this,"show",()=>{this.element.classList.remove(l.MODAL.MODIFIERS.IS_HIDDEN),this.element.classList.add(l.MODAL.MODIFIERS.ANIMATION_DONE),this.element.focus(),d.notify({actionType:o.MODAL.OPENING,payload:{target:this.id}}),this.focusable=f(this.element)}),u(this,"hide",()=>{this.element.classList.add(l.MODAL.MODIFIERS.IS_HIDDEN),this.element.classList.remove(l.MODAL.MODIFIERS.ANIMATION_DONE);const{triggerId:i}=this;d.notify({actionType:o.MODAL.CLOSING,payload:{triggerId:i,target:this.id}}),this.triggerId=null}),u(this,"onkeydown",i=>{i.key==="Escape"?(i.preventDefault(),this.hide()):i.key==="Tab"&&!i.shiftKey&&document.activeElement===this.focusable.last?(i.preventDefault(),this.focusable.first.focus()):i.shiftKey&&i.key==="Tab"&&document.activeElement===this.focusable.first?(i.preventDefault(),this.focusable.last.focus()):this.focusable.list.length===0&&(i.preventDefault(),i.stopImmediatePropagation(),i.stopPropagation())}),u(this,"actionHandler",i=>{var s;this.element.classList.add(l.MODAL.MODIFIERS.ANIMATION);const{actionType:r,payload:a={}}=i;if(a.target!==this.id)return;this.triggerId=(s=a.triggerId)!=null?s:this.triggerId;const c=[o.MODAL.OPEN_BUTTON_CLICK],p=[o.GLOBAL.ESCAPE_KEYPRESS,o.MODAL.OVERLAY_CLICK,o.MODAL.CLOSE_BUTTON_CLICK],h=c.includes(r),L=p.includes(r);h&&this.show(),L&&this.hide()}),u(this,"init",()=>{d.subscribe(this.actionHandler),this.modalDefaultOpen==="open-modal-true"?this.show():this.hide()}),this.modalDefaultOpen=this.props.modalDefaultOpen,this.id=this.element.id,this.triggerId=null,this.init()}registerEventListeners(){super.registerEventListeners(),this.element.addEventListener("keydown",new O(this))}}var y=D,P=Object.defineProperty,H=(n,e,t)=>e in n?P(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,B=(n,e,t)=>(H(n,typeof e!="symbol"?e+"":e,t),t);class w extends E{constructor(e,t){super({element:e,props:t}),B(this,"focus",()=>{this.button.focus()}),this.targetModal=this.props.targetModal,this.init()}onclick(e){d.notify({actionType:o.MODAL.CLOSE_BUTTON_CLICK,payload:{target:this.targetModal}})}registerEventListeners(){super.registerEventListeners(),this.element.addEventListener("click",new O(this))}init(){}}var R=w,G=Object.defineProperty,k=(n,e,t)=>e in n?G(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,F=(n,e,t)=>(k(n,typeof e!="symbol"?e+"":e,t),t);class K extends E{constructor(e,t){super({element:e,props:t}),F(this,"actionHandler",i=>{const{actionType:s,payload:r={}}=i;if(r.target!==this.targetModal)return;[o.MODAL.CLOSING].includes(s)&&r.triggerId===this.element.id&&this.element.focus()}),this.targetModal=this.props.targetModal,this.init()}onclick(e){const t=this.element.id,i=this.targetModal;d.notify({actionType:o.MODAL.OPEN_BUTTON_CLICK,payload:{triggerId:t,target:i}})}registerEventListeners(){super.registerEventListeners(),this.element.addEventListener("click",new O(this))}init(){d.subscribe(this.actionHandler)}}var U=K,x=Object.defineProperty,Y=(n,e,t)=>e in n?x(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,I=(n,e,t)=>(Y(n,typeof e!="symbol"?e+"":e,t),t);class z extends E{constructor(e,t){super({element:e,props:t}),I(this,"show",()=>{this.element.classList.remove(l.OVERLAY.MODIFIERS.IS_HIDDEN),this.element.classList.add(l.OVERLAY.MODIFIERS.ANIMATION_DONE)}),I(this,"hide",()=>{this.element.classList.add(l.OVERLAY.MODIFIERS.IS_HIDDEN),this.element.classList.remove(l.OVERLAY.MODIFIERS.ANIMATION_DONE)}),I(this,"actionHandler",i=>{this.element.classList.add(l.OVERLAY.MODIFIERS.ANIMATION);const{actionType:s,payload:r={}}=i;if(r.target!==this.targetModal)return;const a=[o.MODAL.OPENING],c=[o.MODAL.CLOSING],p=a.includes(s),h=c.includes(s);p&&this.show(),h&&this.hide()}),this.targetModal=this.props.targetModal,this.init()}registerEventListeners(){super.registerEventListeners(),this.element.addEventListener("click",new O(this))}onclick(e){e.target.getAttribute("data-modal-type")!=="interrupt"&&d.notify({actionType:o.MODAL.OVERLAY_CLICK,payload:{target:this.targetModal}})}init(){d.subscribe(this.actionHandler)}}var V=z;m("Modal",y),m("Modal:CloseButton",R),m("Modal:OpenButton",U),m("Modal:Overlay",V)})()})();
